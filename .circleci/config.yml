version: 2.1
jobs:
  build:
    docker:
      - image: circleci/node:10
    steps:
      - run:
        name: Install dependencies
        command: npm i
      - run:
        name: Install ionic globally
        command: npm install -g @ionic/cli cordova-res
      - run:
        name: Install firebase globally
        command: npm install -g firebase-tools
      - run:
        name: Ionic build
        command: ionic build --prod
      - run:
        name: Firebase deploy
        command: firebase deploy
