version: 2.1
orbs:
  node: circleci/node@3.0.0
jobs:
  build:
    steps:
      - run:
        name: Install dependencies
        command: npm i
      - run:
        name: Install ionic globally
        command: npm install -g @ionic/cli cordova-res
      - run:
        name: Install firebase globally
        command: npm install -g firebase-tools
      - run:
        name: Ionic build
        command: ionic build --prod
      - run:
        name: Firebase deploy
        command: firebase deploy
